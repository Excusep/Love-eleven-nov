<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport">
		<title>jQuery情人节表白放烟花动画特效</title>
	</head>
	<link href="css/default.css" type="text/css" rel="stylesheet">
	<script src="js/lib/jquery.min.js" type="text/javascript"></script>
	<script src="js/lib/jquery.fireworks.js" type="text/javascript"></script>

	<style type="text/css">
		* {
			-webkit-tap-highlight-color: rgba(0, 0, 0, 0);
			-webkit-box-sizing: border-box;
			box-sizing: border-box;
		}
		
		html {
			width: 100%;
			height: 100%;
		}
		
		body {
			margin: 0 auto;
			background: #0b3443;
			color: #f0f0f0;
		}
		
		.share_img {
			width: 0;
			height: 0;
			overflow: hidden;
			opacity: 0;
		}
		
		.content {
			margin-left: 445px;
		}
		
		.text_wrapper {
			display: -webkit-box;
			display: flex;
		}
		
		.text_wrapper .text {
			padding-top: 20px;
			padding-left: 20px;
		}
		
		.hide {
			display: none !important;
		}
		
		p {
			margin: 0;
		}
		
		.btn-groups {
			padding-right: 20px;
			text-align: center;
		}
		
		.heart-btn {
			display: inline-block;
			animation: breath 0.8s linear 0s infinite both;
			-webkit-animation: breath 0.8s linear 0s infinite both;
		}
		
		.btn {
			position: relative;
			display: inline-block;
			width: 60px;
			height: 60px;
			margin: 0 30px;
			transform: rotate(45deg);
			-webkit-transform: rotate(45deg);
			cursor: pointer;
		}
		
		.btn span {
			display: block;
			width: 100%;
			height: 100%;
			line-height: 60px;
			margin-top: -10px;
			margin-left: -10px;
			text-align: center;
			transform: rotate(-45deg);
			-webkit-transform: rotate(-45deg);
		}
		
		.btn-a {
			background: #d26ae5;
		}
		
		.btn-b {
			background: #c9c9c9;
		}
		
		.btn-a:before {
			content: '';
			position: absolute;
			display: block;
			width: 30px;
			height: 60px;
			background: #d26ae5;
			left: -29px;
			top: 0;
			border-top-left-radius: 60px;
			border-bottom-left-radius: 60px;
		}
		
		.btn-a:after {
			content: '';
			position: absolute;
			display: block;
			width: 60px;
			height: 30px;
			background: #d26ae5;
			left: 0;
			top: -29px;
			border-top-left-radius: 60px;
			border-top-right-radius: 60px;
		}
		
		.btn-b:before {
			content: '';
			position: absolute;
			display: block;
			width: 30px;
			height: 60px;
			background: #c9c9c9;
			left: -29px;
			top: 0;
			border-top-left-radius: 60px;
			border-bottom-left-radius: 60px;
		}
		
		.btn-b:after {
			content: '';
			position: absolute;
			display: block;
			width: 60px;
			height: 30px;
			background: #c9c9c9;
			left: 0;
			top: -29px;
			border-top-left-radius: 60px;
			border-top-right-radius: 60px;
		}
		
		.container {}
		
		.container .mask {
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: rgba(0, 0, 0, 0.3);
		}
		
		.container .modal {
			width: 80%;
			height: 160px;
			position: absolute;
			top: 50%;
			left: 50%;
			padding: 20px 15px;
			border-radius: 5px;
			transform: translate(-50%, -70%);
			-webkit-transform: translate(-50%，-70%);
			background: #f3f3f3;
		}
		
		.container .modal p {
			margin-top: 20px;
			margin-bottom: 20px;
			font-size: 16px;
			color: #353535;
			text-align: center;
		}
		
		.confirm {
			display: block;
			width: 120px;
			height: 40px;
			margin: 0 auto;
			border: none;
			font-size: 16px;
			border-radius: 5px;
			color: #ffffff;
			background: #f45cae;
			outline: none;
			cursor: pointer;
		}
		
		.type_words {
			padding: 12px 20px;
		}
		
		@keyframes breath {
			0% {
				transform: scale3d(1, 1, 1);
				-webkit-transform: scale3d(1, 1, 1);
				transform-origin: 50% 50%;
			}
			50% {
				transform: scale3d(1.02, 1.02, 1.02);
				-webkit-transform: scale3d(1.02, 1.02, 1.02);
				transform-origin: 50% 50%;
			}
			100% {
				transform: scale3d(1, 1, 1);
				-webkit-transform: scale3d(1, 1, 1);
				transform-origin: 50% 50%;
			}
		}
		#messages{
			text-align: center;
			color:white;
		}
	</style>

	<script type="text/javascript">
		$(function() {
			$('#yes').click(function(event) {
				modal('我就知道小姐姐您一定会愿意的。(^_^)', function() {
					$('.page_one').addClass('hide');
					$('.page_two').removeClass('hide');
					// typeWrite();
					fireworks();

				});
			});
			$('#no').click(function(event) {
				modal('明人不说暗话！', A);
			});
		});

		function A() {
			modal('我喜欢你！', B);
		}

		function B() {
			modal('我知道你在等我这一句话', C);
		}

		function C() {
			modal('请您不要拒绝我', D);
		}

		function D() {
			modal('拒绝我，不存在的', E);
		}

		function E() {
			modal('这辈子都不可能让你离开我', F);
		}

		function F() {
			modal('跟我走吧', G);
		}

		function G() {
			modal('房产证上写你名', H);
		}

		function H() {
			modal('我会做饭', I);
		}

		function I() {
			modal('爱你，么么哒！', J)
		}

		function J() {
			modal('行，我们去民政局登记吧', function() {
				fireworks();
			});
		}

		function fireworks() {
			$('.page_one').addClass('hide');
			$('.page_two').removeClass('hide');
			$('.page_two').fireworks({
				sound: false,
				opacity: 0.9,
				width: '100%',
				height: '100%'
			});
		}

		function modal(content, callback) {
			var tpl = '<div class="container">' +
				'<div class="mask"></div>' +
				'<div class="modal">' +
				'<p>' + content + '</p>' +
				'<button type="button" id="confirm" class="confirm">确定</button>' +
				'</div>' +
				'</div>';
			$('body').append(tpl);
			$(document).on('click', '.confirm', function() {
				$('.container').remove();
				callback();
			});
		}

	</script>
	<body>

		<div class="share_img"><img src="images/a8b.png" alt=""></div>

		<div class="page_one">
			<div class="content">
				<div class="text_wrapper">
					<img src="images/a8.png" alt="">
					<div class="text">
						小姐姐，我好喜欢你，你愿意做我女朋友吗？
					</div>
				</div>
			</div>
			<div class="btn-groups">
				<div class="heart-btn">
					<div id="yes" class="btn btn-a"><span>愿意</span></div>
				</div>
				<div id="no" class="btn btn-b"><span>不愿意</span></div>
			</div>
		</div>
		<div class="page_two hide">
			<div class="type_words"></div>
		</div>
			
			<div id="content">
				<div id="code">
					<span class="comments"></span><br />
					<span /><span class="comments">XXX：今天是2019年10月1日。</span><br />
					<span /><span class="comments">我想告诉你一个秘密。 </span><br />
					<span /><span class="comments">虽然，我不是一个很擅长表达言语的人。 </span><br />
					<span /><span class="comments">但我希望你能看到这段话。</span><br />
					<span /><span style="color: red;">XXX我喜欢你</span><br />
					<span class="comments">今天是10月1日。 </span><br />
					<span class="comments">我做了一个很重要的决定。</span><br />
					<span class="comments">我想和你在一起。</span><br />
					<span class="comments">我把你的美丽记录在日记里，让文字把你的青春铭记。</span><br />
					<span class="comments">我把你的笑容粘贴在日记里，让图片把你的活泼记忆。</span><br />
					<span class="comments">我把我的照片夹进日记里，让爱情把你的幸福牢系。</span><br />
					<span class="comments">对我来说是个重要的时刻，我发现我已经深深爱上了你！</span><br />
					<span class="comments">当我凝视你的眼，当我听到你的声音。 </span><br />
					<span class="comments">当我闻到你秀发上淡淡的清香。 </span><br />
					<span class="comments"><span style="color: red;">我爱你;</span><br />
					<span class="comments">当我感受到我剧烈的心跳，我明白了：</span><br /> <span style="color: red;">我想你;</span>
					<br />
					<span class="comments">你在我心中最美。 </span><br /> 我想照顾你 <br />
					<span class="comments">你是我今生的唯一！</span><br />
					<span class="comments">所以我继续等待，我有信心。</span><br />
					<span class="keyword"><span style="color: red;">我会永远爱你</span>;<br />
					<span class="keyword">一直</span> 爱你 <br />
					<span class="placeholder" />我有一颗永远不变的心<br />
					<span class="placeholder" /><span class="comments">我认为这是一个重要的决定。</span><br />
					<span class="placeholder" /><span class="comments">你可以在任何时候决定。</span><br />
					<span class="placeholder" />爱你 = 想你<br /><br /> 我非常高兴能认识你<br />
					<span class="comments">往后余生， </span><br />
					<span class="comments">风雨是你， </span><br />
					<span class="comments">爱情是你。 </span><br />
			</div>
			<div id="loveHeart">
				<canvas id="garden"></canvas>
				<div id="words">
					<div id="messages">
						从认识你的那一天起，我就已经深深的喜欢上你了，我愿意为你改变我自己
					</div>
				</div>
			</div>	
<script type="text/javascript">
			var offsetX = $("#loveHeart").width() / 2;
			var offsetY = $("#loveHeart").height() / 2 - 55;
			var together = new Date();

			if(!document.createElement('canvas').getContext) {
				var msg = document.createElement("div");
				msg.id = "errorMsg";
				msg.innerHTML = "Your browser doesn't support HTML5!<br/>Recommend use Chrome 14+/IE 9+/Firefox 7+/Safari 4+";
				document.body.appendChild(msg);
				$("#code").css("display", "none")
				$("#copyright").css("position", "absolute");
				$("#copyright").css("bottom", "10px");
				document.execCommand("stop");
			} else {
				setTimeout(function() {
					startHeartAnimation();
				}, 5000);

				timeElapse(together);
				setInterval(function() {
					timeElapse(together);
				}, 500);

				adjustCodePosition();
				$("#code").typewriter();
			}
		</script>
	</body>

</html>